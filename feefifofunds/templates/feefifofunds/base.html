{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>{% block title %}FeeFiFoFunds{% endblock %} - Aaron Spindler</title>

  <meta name="description" content="{% block meta_description %}Fund comparison and analysis tool.{% endblock %}">

  <!-- DNS Prefetch for external resources -->
  <link rel="dns-prefetch" href="https://spindlers-s3.s3.amazonaws.com">
  <link rel="preconnect" href="https://spindlers-s3.s3.amazonaws.com" crossorigin>

  <!-- Preload critical fonts with high priority -->
  <link rel="preload" href="{% static 'fonts/jetbrains-mono-regular-fast.woff2' %}" as="font" type="font/woff2" crossorigin="anonymous" fetchpriority="high">
  <link rel="preload" href="{% static 'fonts/jetbrains-mono-medium-fast.woff2' %}" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="{% static 'fonts/jetbrains-mono-bold-fast.woff2' %}" as="font" type="font/woff2" crossorigin="anonymous">

  <!-- Critical CSS inline for instant rendering -->
  <style>
    @font-face{font-family:"JetBrains Mono Fast";src:url("{% static 'fonts/jetbrains-mono-regular-fast.woff2' %}") format("woff2");font-weight:500;font-style:normal;font-display:swap}
    :root{--font-family:"JetBrains Mono Fast",monospace;--line-height:1.20rem;--border-thickness:2px;--text-color:#fff;--text-color-alt:#aaa;--background-color:#000;--background-color-alt:#111;--font-weight-normal:500;--font-weight-medium:600;--font-weight-bold:800;font-family:var(--font-family);font-optical-sizing:auto;font-weight:var(--font-weight-normal);font-style:normal;font-variant-numeric:tabular-nums lining-nums;font-size:16px;font-feature-settings:"calt" 1}*{box-sizing:border-box}html{display:flex;width:100%;margin:0;padding:0;flex-direction:column;align-items:center;background:var(--background-color);color:var(--text-color)}body{position:relative;width:100%;margin:0;padding:var(--line-height) 2ch;max-width:calc(min(120ch,round(down,100%,1ch)));line-height:var(--line-height);overflow-x:hidden}h1,h2{font-weight:var(--font-weight-bold);margin:calc(var(--line-height)*2) 0 var(--line-height);line-height:var(--line-height)}h1{font-size:2rem;line-height:calc(2*var(--line-height));margin-bottom:calc(var(--line-height)*2);text-transform:uppercase}a{text-decoration-thickness:var(--border-thickness)}a:link,a:visited{color:var(--text-color)}
  </style>

  {% block css %}
  <link rel="preload" href="{% static 'css/combined.min.css' %}" as="style" fetchpriority="high">
  <link rel="stylesheet" href="{% static 'css/combined.min.css' %}" media="print" onload="this.media='all'; this.onload=null;">
  <noscript><link rel="stylesheet" href="{% static 'css/combined.min.css' %}"></noscript>
  {% endblock %}
</head>

<body>
  <!-- Header -->
  <header role="banner">
    <table class="header">
      <tr>
        <td colspan="2" rowspan="2" class="width-auto">
          <h1 class="title"><a href="{% url 'feefifofunds:home' %}" style="color: inherit; text-decoration: none;">FEEFIFOFUNDS</a></h1>
          <span class="subtitle">Fund comparison and analysis</span>
        </td>
        <th scope="row">Funds</th>
        <td class="width-min"><a href="{% url 'feefifofunds:fund-list' %}">/funds</a></td>
      </tr>
      <tr>
        <th scope="row">Compare</th>
        <td class="width-min"><a href="{% url 'feefifofunds:compare' %}">/compare</a></td>
      </tr>
    </table>
  </header>

  {% block content %}
  {% endblock content %}

  <!-- Footer -->
  <footer role="contentinfo" style="margin-top: calc(var(--line-height) * 4); padding-top: calc(var(--line-height) * 2); border-top: calc(var(--border-thickness) * 3) double var(--text-color);">
    <p style="color: var(--text-color-alt); font-size: 0.875rem; margin: 0;">
      Data provided for informational purposes only. Not investment advice.
    </p>
  </footer>

  {% block javascript %}
  <script src="{% static 'js/base-optimized.min.js' %}" defer></script>
  {% endblock javascript %}

  {% block extra_js %}{% endblock extra_js %}

</body>
</html>
