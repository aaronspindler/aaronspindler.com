# Generated by Django 5.2.7 on 2025-10-20 01:18

import django.core.validators
import django.db.models.deletion
import django.utils.timezone
from decimal import Decimal
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='DataSource',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(db_index=True, default=django.utils.timezone.now, editable=False, help_text='Timestamp when this record was created')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, help_text='Timestamp when this record was last updated')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='Whether this record is active')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Timestamp when this record was soft-deleted', null=True)),
                ('name', models.CharField(db_index=True, help_text="Name of the data source (e.g., 'yahoo_finance', 'alpha_vantage')", max_length=100, unique=True)),
                ('display_name', models.CharField(help_text='Display name for UI', max_length=255)),
                ('source_type', models.CharField(choices=[('API', 'REST API'), ('WS', 'WebSocket'), ('FILE', 'File Upload'), ('SCRAPER', 'Web Scraper'), ('DB', 'Database')], default='API', help_text='Type of data source', max_length=10)),
                ('description', models.TextField(blank=True, help_text='Description of this data source and what it provides')),
                ('base_url', models.URLField(blank=True, help_text='Base URL for API', max_length=500)),
                ('api_key_required', models.BooleanField(default=False, help_text='Whether this source requires an API key')),
                ('documentation_url', models.URLField(blank=True, help_text='URL to API documentation', max_length=500)),
                ('rate_limit_requests', models.IntegerField(blank=True, help_text='Maximum number of requests allowed', null=True, validators=[django.core.validators.MinValueValidator(1)])),
                ('rate_limit_period_seconds', models.IntegerField(blank=True, help_text='Time period for rate limit in seconds', null=True, validators=[django.core.validators.MinValueValidator(1)])),
                ('requests_today', models.IntegerField(default=0, help_text='Number of requests made today', validators=[django.core.validators.MinValueValidator(0)])),
                ('last_request_time', models.DateTimeField(blank=True, help_text='Timestamp of last request', null=True)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('INACTIVE', 'Inactive'), ('ERROR', 'Error'), ('RATE_LIMITED', 'Rate Limited'), ('MAINTENANCE', 'Under Maintenance')], db_index=True, default='ACTIVE', help_text='Current status of the data source', max_length=20)),
                ('last_successful_sync', models.DateTimeField(blank=True, help_text='Timestamp of last successful data sync', null=True)),
                ('last_error', models.TextField(blank=True, help_text='Last error message encountered')),
                ('last_error_time', models.DateTimeField(blank=True, help_text='Timestamp of last error', null=True)),
                ('consecutive_failures', models.IntegerField(default=0, help_text='Number of consecutive failures', validators=[django.core.validators.MinValueValidator(0)])),
                ('priority', models.IntegerField(db_index=True, default=50, help_text='Priority for this source (1-100, higher = more preferred)', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(100)])),
                ('reliability_score', models.DecimalField(decimal_places=2, default=100.0, help_text='Reliability score (0-100) based on historical success rate', max_digits=5, validators=[django.core.validators.MinValueValidator(0.0), django.core.validators.MaxValueValidator(100.0)])),
                ('supports_historical_data', models.BooleanField(default=True, help_text='Whether this source provides historical data')),
                ('supports_realtime_data', models.BooleanField(default=False, help_text='Whether this source provides real-time data')),
                ('supports_holdings', models.BooleanField(default=False, help_text='Whether this source provides holdings data')),
                ('supports_fundamentals', models.BooleanField(default=False, help_text='Whether this source provides fundamental data')),
                ('is_free', models.BooleanField(default=True, help_text='Whether this source is free to use')),
                ('monthly_cost', models.DecimalField(blank=True, decimal_places=2, help_text='Monthly cost in USD', max_digits=10, null=True)),
            ],
            options={
                'verbose_name': 'Data Source',
                'verbose_name_plural': 'Data Sources',
                'db_table': 'feefifofunds_datasource',
                'ordering': ['-priority', 'name'],
                'indexes': [models.Index(fields=['-priority', 'status'], name='feefifofund_priorit_8f7ccc_idx'), models.Index(fields=['status', '-last_successful_sync'], name='feefifofund_status_35c83b_idx')],
            },
        ),
        migrations.CreateModel(
            name='Fund',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(db_index=True, default=django.utils.timezone.now, editable=False, help_text='Timestamp when this record was created')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, help_text='Timestamp when this record was last updated')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='Whether this record is active')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Timestamp when this record was soft-deleted', null=True)),
                ('ticker', models.CharField(db_index=True, help_text='Primary ticker symbol', max_length=20, unique=True)),
                ('name', models.CharField(db_index=True, help_text='Full fund name', max_length=255)),
                ('slug', models.SlugField(blank=True, help_text='URL-friendly slug', max_length=255, unique=True)),
                ('fund_type', models.CharField(choices=[('ETF', 'Exchange-Traded Fund'), ('MUTUAL', 'Mutual Fund'), ('INDEX', 'Index Fund'), ('BOND', 'Bond Fund'), ('MM', 'Money Market Fund'), ('TARGET', 'Target Date Fund'), ('OTHER', 'Other')], db_index=True, default='ETF', help_text='Type of fund', max_length=10)),
                ('asset_class', models.CharField(choices=[('EQUITY', 'Equity'), ('BOND', 'Fixed Income'), ('MIXED', 'Mixed/Balanced'), ('MM', 'Money Market'), ('COMMODITY', 'Commodity'), ('REIT', 'Real Estate'), ('ALT', 'Alternative')], db_index=True, default='EQUITY', help_text='Primary asset class', max_length=20)),
                ('category', models.CharField(blank=True, db_index=True, help_text='Morningstar or similar category', max_length=100)),
                ('description', models.TextField(blank=True, help_text='Fund description and investment strategy')),
                ('inception_date', models.DateField(blank=True, help_text='Date when the fund was launched', null=True)),
                ('issuer', models.CharField(blank=True, db_index=True, help_text='Fund issuer/provider (e.g., Vanguard, iShares)', max_length=255)),
                ('expense_ratio', models.DecimalField(blank=True, decimal_places=4, help_text='Annual expense ratio as a percentage (e.g., 0.03 for 0.03%)', max_digits=6, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0000')), django.core.validators.MaxValueValidator(Decimal('99.9999'))])),
                ('management_fee', models.DecimalField(blank=True, decimal_places=4, help_text='Management fee as a percentage', max_digits=6, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0000')), django.core.validators.MaxValueValidator(Decimal('99.9999'))])),
                ('front_load', models.DecimalField(blank=True, decimal_places=4, help_text='Front-end load fee as a percentage', max_digits=6, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0000')), django.core.validators.MaxValueValidator(Decimal('99.9999'))])),
                ('back_load', models.DecimalField(blank=True, decimal_places=4, help_text='Back-end load fee as a percentage', max_digits=6, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0000')), django.core.validators.MaxValueValidator(Decimal('99.9999'))])),
                ('current_price', models.DecimalField(blank=True, decimal_places=4, help_text='Most recent NAV or price', max_digits=15, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0001'))])),
                ('previous_close', models.DecimalField(blank=True, decimal_places=4, help_text='Previous closing price', max_digits=15, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0001'))])),
                ('currency', models.CharField(default='USD', help_text='Currency code (ISO 4217)', max_length=3)),
                ('aum', models.DecimalField(blank=True, decimal_places=2, help_text='Assets Under Management in millions', max_digits=20, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))])),
                ('avg_volume', models.BigIntegerField(blank=True, help_text='Average daily trading volume (shares)', null=True, validators=[django.core.validators.MinValueValidator(0)])),
                ('exchange', models.CharField(blank=True, help_text='Primary exchange where the fund trades', max_length=50)),
                ('website', models.URLField(blank=True, help_text='Official fund website', max_length=500)),
                ('isin', models.CharField(blank=True, help_text='International Securities Identification Number', max_length=12, null=True, unique=True)),
                ('cusip', models.CharField(blank=True, help_text='Committee on Uniform Securities Identification Procedures number', max_length=9)),
                ('last_updated', models.DateTimeField(blank=True, help_text='When the fund data was last updated from external sources', null=True)),
                ('last_price_update', models.DateTimeField(blank=True, help_text='When the price was last updated', null=True)),
            ],
            options={
                'verbose_name': 'Fund',
                'verbose_name_plural': 'Funds',
                'db_table': 'feefifofunds_fund',
                'ordering': ['ticker'],
                'indexes': [models.Index(fields=['ticker', 'is_active'], name='feefifofund_ticker_b400fe_idx'), models.Index(fields=['fund_type', 'asset_class'], name='feefifofund_fund_ty_bb4cc7_idx'), models.Index(fields=['category'], name='feefifofund_categor_2c367f_idx'), models.Index(fields=['expense_ratio'], name='feefifofund_expense_ca2a54_idx')],
            },
        ),
        migrations.CreateModel(
            name='DataSync',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(db_index=True, default=django.utils.timezone.now, editable=False, help_text='Timestamp when this record was created')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, help_text='Timestamp when this record was last updated')),
                ('sync_type', models.CharField(choices=[('FUND_INFO', 'Fund Information'), ('PRICES', 'Price Data'), ('HOLDINGS', 'Holdings'), ('FUNDAMENTALS', 'Fundamental Data'), ('METRICS', 'Calculated Metrics')], db_index=True, help_text='Type of data being synced', max_length=20)),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('IN_PROGRESS', 'In Progress'), ('SUCCESS', 'Success'), ('PARTIAL', 'Partial Success'), ('FAILED', 'Failed')], db_index=True, default='PENDING', help_text='Status of the sync', max_length=20)),
                ('started_at', models.DateTimeField(auto_now_add=True, help_text='When the sync started')),
                ('completed_at', models.DateTimeField(blank=True, help_text='When the sync completed', null=True)),
                ('duration_seconds', models.IntegerField(blank=True, help_text='Duration of sync in seconds', null=True)),
                ('records_fetched', models.IntegerField(default=0, help_text='Number of records fetched', validators=[django.core.validators.MinValueValidator(0)])),
                ('records_created', models.IntegerField(default=0, help_text='Number of new records created', validators=[django.core.validators.MinValueValidator(0)])),
                ('records_updated', models.IntegerField(default=0, help_text='Number of existing records updated', validators=[django.core.validators.MinValueValidator(0)])),
                ('records_failed', models.IntegerField(default=0, help_text='Number of records that failed validation', validators=[django.core.validators.MinValueValidator(0)])),
                ('error_message', models.TextField(blank=True, help_text='Error message if sync failed')),
                ('error_details', models.JSONField(blank=True, default=dict, help_text='Detailed error information (structured data)')),
                ('request_params', models.JSONField(blank=True, default=dict, help_text='Parameters used for the request')),
                ('response_metadata', models.JSONField(blank=True, default=dict, help_text='Metadata from the API response')),
                ('celery_task_id', models.CharField(blank=True, db_index=True, help_text='Celery task ID if run asynchronously', max_length=255)),
                ('data_source', models.ForeignKey(help_text='Data source used for this sync', on_delete=django.db.models.deletion.CASCADE, related_name='sync_history', to='feefifofunds.datasource')),
                ('fund', models.ForeignKey(blank=True, help_text='Fund this sync was for (if applicable)', null=True, on_delete=django.db.models.deletion.CASCADE, related_name='sync_history', to='feefifofunds.fund')),
            ],
            options={
                'verbose_name': 'Data Sync',
                'verbose_name_plural': 'Data Syncs',
                'db_table': 'feefifofunds_datasync',
                'ordering': ['-started_at'],
                'indexes': [models.Index(fields=['-started_at'], name='feefifofund_started_294044_idx'), models.Index(fields=['data_source', '-started_at'], name='feefifofund_data_so_091d0a_idx'), models.Index(fields=['fund', '-started_at'], name='feefifofund_fund_id_413e49_idx'), models.Index(fields=['status', '-started_at'], name='feefifofund_status_c296cf_idx'), models.Index(fields=['sync_type', '-started_at'], name='feefifofund_sync_ty_11ac45_idx'), models.Index(fields=['celery_task_id'], name='feefifofund_celery__ffa9dd_idx')],
            },
        ),
        migrations.CreateModel(
            name='FundHolding',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(db_index=True, default=django.utils.timezone.now, editable=False, help_text='Timestamp when this record was created')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, help_text='Timestamp when this record was last updated')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='Whether this record is active')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Timestamp when this record was soft-deleted', null=True)),
                ('ticker', models.CharField(db_index=True, help_text='Ticker symbol of the holding', max_length=20)),
                ('name', models.CharField(help_text='Full name of the holding', max_length=255)),
                ('cusip', models.CharField(blank=True, help_text='CUSIP identifier', max_length=9)),
                ('isin', models.CharField(blank=True, help_text='ISIN identifier', max_length=12)),
                ('holding_type', models.CharField(choices=[('EQUITY', 'Equity (Stock)'), ('BOND', 'Bond'), ('CASH', 'Cash & Equivalents'), ('OPTION', 'Option'), ('FUTURE', 'Future'), ('COMMODITY', 'Commodity'), ('REIT', 'Real Estate'), ('OTHER', 'Other')], db_index=True, default='EQUITY', help_text='Type of security', max_length=20)),
                ('sector', models.CharField(blank=True, db_index=True, help_text='Sector classification (e.g., Technology, Healthcare)', max_length=100)),
                ('industry', models.CharField(blank=True, help_text='Industry classification', max_length=100)),
                ('country', models.CharField(blank=True, db_index=True, help_text='Country code (ISO 3166-1 alpha-3)', max_length=3)),
                ('shares', models.DecimalField(blank=True, decimal_places=4, help_text='Number of shares held', max_digits=20, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0001'))])),
                ('market_value', models.DecimalField(blank=True, decimal_places=2, help_text='Market value of the position in fund currency', max_digits=20, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))])),
                ('weight', models.DecimalField(decimal_places=4, help_text='Portfolio weight as a percentage (e.g., 5.25 for 5.25%)', max_digits=8, validators=[django.core.validators.MinValueValidator(Decimal('0.0000')), django.core.validators.MaxValueValidator(Decimal('100.0000'))])),
                ('price', models.DecimalField(blank=True, decimal_places=4, help_text='Current price per share', max_digits=15, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0001'))])),
                ('cost_basis', models.DecimalField(blank=True, decimal_places=4, help_text='Average cost basis per share', max_digits=15, null=True)),
                ('as_of_date', models.DateField(db_index=True, help_text='Date when this holding data was reported')),
                ('previous_weight', models.DecimalField(blank=True, decimal_places=4, help_text='Weight in previous reporting period', max_digits=8, null=True)),
                ('data_source', models.CharField(blank=True, help_text='Source of this holding data', max_length=50)),
                ('fund', models.ForeignKey(help_text='The fund that holds this security', on_delete=django.db.models.deletion.CASCADE, related_name='holdings', to='feefifofunds.fund')),
            ],
            options={
                'verbose_name': 'Fund Holding',
                'verbose_name_plural': 'Fund Holdings',
                'db_table': 'feefifofunds_holding',
                'ordering': ['-weight'],
                'indexes': [models.Index(fields=['fund', '-weight'], name='feefifofund_fund_id_6d29de_idx'), models.Index(fields=['fund', 'as_of_date'], name='feefifofund_fund_id_c255f2_idx'), models.Index(fields=['ticker', 'as_of_date'], name='feefifofund_ticker_004dd2_idx'), models.Index(fields=['holding_type', '-weight'], name='feefifofund_holding_f6288f_idx'), models.Index(fields=['sector', '-weight'], name='feefifofund_sector_31dbbe_idx')],
                'unique_together': {('fund', 'ticker', 'as_of_date')},
            },
        ),
        migrations.CreateModel(
            name='FundMetrics',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(db_index=True, default=django.utils.timezone.now, editable=False, help_text='Timestamp when this record was created')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, help_text='Timestamp when this record was last updated')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='Whether this record is active')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Timestamp when this record was soft-deleted', null=True)),
                ('calculation_date', models.DateField(db_index=True, help_text='Date when these metrics were calculated')),
                ('time_frame', models.CharField(choices=[('1M', '1 Month'), ('3M', '3 Months'), ('6M', '6 Months'), ('YTD', 'Year-to-Date'), ('1Y', '1 Year'), ('3Y', '3 Years'), ('5Y', '5 Years'), ('10Y', '10 Years'), ('ALL', 'All Time')], db_index=True, default='1Y', help_text='Time frame for these metrics', max_length=3)),
                ('data_points', models.IntegerField(help_text='Number of data points used in calculations')),
                ('total_return', models.DecimalField(blank=True, decimal_places=4, help_text='Total return as a percentage', max_digits=10, null=True)),
                ('annualized_return', models.DecimalField(blank=True, decimal_places=4, help_text='Annualized return as a percentage', max_digits=10, null=True)),
                ('cumulative_return', models.DecimalField(blank=True, decimal_places=4, help_text='Cumulative return as a percentage', max_digits=10, null=True)),
                ('volatility', models.DecimalField(blank=True, decimal_places=4, help_text='Standard deviation of returns (annualized %)', max_digits=10, null=True)),
                ('downside_deviation', models.DecimalField(blank=True, decimal_places=4, help_text='Downside deviation (only negative returns)', max_digits=10, null=True)),
                ('beta', models.DecimalField(blank=True, decimal_places=4, help_text='Beta relative to benchmark (e.g., S&P 500)', max_digits=8, null=True)),
                ('alpha', models.DecimalField(blank=True, decimal_places=4, help_text='Alpha (excess return) as a percentage', max_digits=10, null=True)),
                ('r_squared', models.DecimalField(blank=True, decimal_places=4, help_text='R-squared (0.0 to 1.0) - correlation to benchmark', max_digits=6, null=True)),
                ('sharpe_ratio', models.DecimalField(blank=True, decimal_places=4, help_text='Sharpe ratio (return per unit of risk)', max_digits=8, null=True)),
                ('sortino_ratio', models.DecimalField(blank=True, decimal_places=4, help_text='Sortino ratio (return per unit of downside risk)', max_digits=8, null=True)),
                ('treynor_ratio', models.DecimalField(blank=True, decimal_places=4, help_text='Treynor ratio (return per unit of systematic risk)', max_digits=10, null=True)),
                ('information_ratio', models.DecimalField(blank=True, decimal_places=4, help_text='Information ratio (active return / tracking error)', max_digits=8, null=True)),
                ('max_drawdown', models.DecimalField(blank=True, decimal_places=4, help_text='Maximum drawdown as a percentage', max_digits=10, null=True)),
                ('max_drawdown_duration', models.IntegerField(blank=True, help_text='Duration of maximum drawdown in days', null=True)),
                ('current_drawdown', models.DecimalField(blank=True, decimal_places=4, help_text='Current drawdown from peak as a percentage', max_digits=10, null=True)),
                ('var_95', models.DecimalField(blank=True, decimal_places=4, help_text='Value at Risk at 95% confidence (1-day)', max_digits=10, null=True)),
                ('var_99', models.DecimalField(blank=True, decimal_places=4, help_text='Value at Risk at 99% confidence (1-day)', max_digits=10, null=True)),
                ('cvar_95', models.DecimalField(blank=True, decimal_places=4, help_text='Conditional VaR (expected shortfall) at 95%', max_digits=10, null=True)),
                ('win_rate', models.DecimalField(blank=True, decimal_places=4, help_text='Percentage of positive return periods', max_digits=6, null=True)),
                ('best_day', models.DecimalField(blank=True, decimal_places=4, help_text='Best single-day return as a percentage', max_digits=10, null=True)),
                ('worst_day', models.DecimalField(blank=True, decimal_places=4, help_text='Worst single-day return as a percentage', max_digits=10, null=True)),
                ('avg_positive_day', models.DecimalField(blank=True, decimal_places=4, help_text='Average return on positive days', max_digits=10, null=True)),
                ('avg_negative_day', models.DecimalField(blank=True, decimal_places=4, help_text='Average return on negative days', max_digits=10, null=True)),
                ('benchmark_ticker', models.CharField(blank=True, help_text="Benchmark used for comparison (e.g., 'SPY' for S&P 500)", max_length=20)),
                ('excess_return', models.DecimalField(blank=True, decimal_places=4, help_text='Return above benchmark', max_digits=10, null=True)),
                ('tracking_error', models.DecimalField(blank=True, decimal_places=4, help_text='Standard deviation of excess returns', max_digits=10, null=True)),
                ('skewness', models.DecimalField(blank=True, decimal_places=4, help_text='Skewness of return distribution', max_digits=8, null=True)),
                ('kurtosis', models.DecimalField(blank=True, decimal_places=4, help_text='Kurtosis of return distribution', max_digits=8, null=True)),
                ('risk_score', models.IntegerField(blank=True, help_text='Risk score (0-100, higher = more risk)', null=True)),
                ('return_score', models.IntegerField(blank=True, help_text='Return score (0-100, higher = better returns)', null=True)),
                ('overall_score', models.IntegerField(blank=True, db_index=True, help_text='Overall composite score (0-100)', null=True)),
                ('calculation_engine_version', models.CharField(blank=True, help_text='Version of the calculation engine used', max_length=50)),
                ('calculation_duration_ms', models.IntegerField(blank=True, help_text='Time taken to calculate these metrics in milliseconds', null=True)),
                ('fund', models.ForeignKey(help_text='The fund these metrics belong to', on_delete=django.db.models.deletion.CASCADE, related_name='metrics', to='feefifofunds.fund')),
            ],
            options={
                'verbose_name': 'Fund Metrics',
                'verbose_name_plural': 'Fund Metrics',
                'db_table': 'feefifofunds_metrics',
                'ordering': ['-calculation_date'],
                'indexes': [models.Index(fields=['fund', '-calculation_date'], name='feefifofund_fund_id_508834_idx'), models.Index(fields=['fund', 'time_frame', '-calculation_date'], name='feefifofund_fund_id_acb737_idx'), models.Index(fields=['-overall_score'], name='feefifofund_overall_6e5206_idx'), models.Index(fields=['time_frame', '-overall_score'], name='feefifofund_time_fr_bbff30_idx')],
                'unique_together': {('fund', 'calculation_date', 'time_frame')},
            },
        ),
        migrations.CreateModel(
            name='FundPerformance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(db_index=True, default=django.utils.timezone.now, editable=False, help_text='Timestamp when this record was created')),
                ('updated_at', models.DateTimeField(auto_now=True, db_index=True, help_text='Timestamp when this record was last updated')),
                ('is_active', models.BooleanField(db_index=True, default=True, help_text='Whether this record is active')),
                ('deleted_at', models.DateTimeField(blank=True, help_text='Timestamp when this record was soft-deleted', null=True)),
                ('date', models.DateField(db_index=True, help_text='Date of this performance record')),
                ('interval', models.CharField(choices=[('1D', 'Daily'), ('1W', 'Weekly'), ('1M', 'Monthly'), ('1Q', 'Quarterly'), ('1Y', 'Yearly')], default='1D', help_text='Time interval for this data point', max_length=2)),
                ('open_price', models.DecimalField(blank=True, decimal_places=4, help_text='Opening price for the period', max_digits=15, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0001'))])),
                ('high_price', models.DecimalField(blank=True, decimal_places=4, help_text='Highest price during the period', max_digits=15, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0001'))])),
                ('low_price', models.DecimalField(blank=True, decimal_places=4, help_text='Lowest price during the period', max_digits=15, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0001'))])),
                ('close_price', models.DecimalField(decimal_places=4, help_text='Closing price (or NAV) for the period', max_digits=15, validators=[django.core.validators.MinValueValidator(Decimal('0.0001'))])),
                ('adjusted_close', models.DecimalField(blank=True, decimal_places=4, help_text='Adjusted closing price (accounting for splits, dividends)', max_digits=15, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.0001'))])),
                ('volume', models.BigIntegerField(blank=True, help_text='Trading volume (number of shares)', null=True, validators=[django.core.validators.MinValueValidator(0)])),
                ('dollar_volume', models.DecimalField(blank=True, decimal_places=2, help_text='Dollar volume (volume * price)', max_digits=20, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))])),
                ('dividend', models.DecimalField(blank=True, decimal_places=4, default=Decimal('0.0000'), help_text='Dividend paid on this date', max_digits=10, null=True)),
                ('split_ratio', models.DecimalField(blank=True, decimal_places=4, help_text='Stock split ratio (e.g., 2.0 for 2:1 split)', max_digits=10, null=True)),
                ('daily_return', models.DecimalField(blank=True, decimal_places=6, help_text='Daily return as a decimal (e.g., 0.015 for 1.5%)', max_digits=10, null=True)),
                ('log_return', models.DecimalField(blank=True, decimal_places=6, help_text='Natural log return for statistical calculations', max_digits=10, null=True)),
                ('data_source', models.CharField(blank=True, help_text="Source of this data (e.g., 'yahoo_finance', 'alpha_vantage')", max_length=50)),
                ('data_quality_score', models.IntegerField(blank=True, help_text='Data quality score (0-100), calculated during validation', null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MinValueValidator(100)])),
                ('fund', models.ForeignKey(help_text='The fund this performance data belongs to', on_delete=django.db.models.deletion.CASCADE, related_name='performance_history', to='feefifofunds.fund')),
            ],
            options={
                'verbose_name': 'Fund Performance',
                'verbose_name_plural': 'Fund Performance Records',
                'db_table': 'feefifofunds_performance',
                'ordering': ['-date'],
                'indexes': [models.Index(fields=['fund', '-date'], name='feefifofund_fund_id_66ab37_idx'), models.Index(fields=['fund', '-date', 'interval'], name='feefifofund_fund_id_364148_idx'), models.Index(fields=['date', 'fund'], name='feefifofund_date_f2ae93_idx'), models.Index(fields=['interval', '-date'], name='feefifofund_interva_298103_idx')],
                'unique_together': {('fund', 'date', 'interval')},
            },
        ),
    ]
