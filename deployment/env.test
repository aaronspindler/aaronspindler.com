# Test/Development Environment Configuration
# Used with: docker compose -f docker-compose.yml --env-file env.test

# =============================================================================
# Django Settings
# =============================================================================
DJANGO_SETTINGS_MODULE=config.settings_test
SECRET_KEY=test-secret-key-for-testing-only-not-for-production
DEBUG=True

# =============================================================================
# Port Mappings (avoid conflicts with local services)
# =============================================================================
POSTGRES_PORT=5433
REDIS_PORT=6380
QUESTDB_HTTP_PORT=9001
QUESTDB_PG_PORT=8813
WEB_PORT=8001
FLOWER_PORT=5556

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=postgres://test_user:test_password@postgres:5432/test_aaronspindler
POSTGRES_USER=test_user
POSTGRES_PASSWORD=test_password
POSTGRES_DB=test_aaronspindler
POSTGRES_HOST_AUTH_METHOD=trust

# QuestDB
QUESTDB_URL=postgresql://admin:quest@questdb:8812/qdb
QDB_PG_USER=admin
QDB_PG_PASSWORD=quest

# =============================================================================
# Redis & Celery
# =============================================================================
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2
CELERY_CONCURRENCY=2

# =============================================================================
# Volume & Command Overrides (for local development)
# =============================================================================
CODE_VOLUME=..
WEB_COMMAND=python manage.py runserver 0.0.0.0:8000
TESTING_IN_DOCKER=true

# =============================================================================
# Storage
# =============================================================================
USE_LOCALSTACK=false

# =============================================================================
# Other Settings
# =============================================================================
EMAIL_BACKEND=django.core.mail.backends.locmem.EmailBackend
DEFAULT_FROM_EMAIL=test@example.com
LOG_LEVEL=INFO
SITE_ID=1
SECURE_SSL_REDIRECT=false
SESSION_COOKIE_SECURE=false
CSRF_COOKIE_SECURE=false
ALLOWED_HOSTS=*
PYTHONDONTWRITEBYTECODE=1
PYTHONUNBUFFERED=1
USE_DEV_CACHE_PREFIX=True
