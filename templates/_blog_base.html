{% load static %}
{% load css_version %}
<!DOCTYPE html>
<html lang="en">

<head>
  {% include '_meta.html' %}
  <title>Aaronspindler.com - {{ blog_title }}</title>
  
  <!-- Theme detection script - prevents FOUC -->
  <script>
    (function(){
      var stored = localStorage.getItem('theme-preference');
      var theme = stored && ['light','dark'].includes(stored) ? stored : 'auto';
      document.documentElement.className = 'theme-' + theme;
    })();
  </script>
  
  {% block css %}
  {% versioned_css as css_file %}
  <link rel="stylesheet" href="{% static css_file %}">
  {% endblock %}
</head>

<body>
  {% include '_header.html' %}
  <div class="back-button">
    <a href="{% url 'home' %}#blog">Back</a>
    <br>
  </div>
  <table class="blog-metadata">
    <tr>
      <td colspan="2">{{ blog_title|safe }}</td>
    </tr>
    <tr>
      <th>Times Read</th>
      <td>{{ views }}</td>
    </tr>
    <tr>
      <th>Change Log</th>
      <td><a href="{{ github_link }}">View on Github</a></td>
    </tr>
  </table>
  {{ blog_content|safe }}
  {% include '_footer.html' %}

  {% block javascript %}
  <script src="{% static 'js/theme-toggle.js' %}" defer></script>
  <script src="{% static 'js/base.js' %}" defer></script>
  {% endblock javascript %}
</body>

</html>