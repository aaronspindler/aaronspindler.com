<header role="banner">
  <table class="header">
    <tr>
      <td colspan="2" rowspan="{% if RESUME_ENABLED %}3{% else %}2{% endif %}" class="width-auto">
        <h1 class="title"><a href="/" style="color: inherit; text-decoration: none;">AARON SPINDLER</a></h1>
        <span class="subtitle">An engineer, father, husband, and a proud ðŸ‡¨ðŸ‡¦</span>
      </td>
      {% if RESUME_ENABLED %}
      <th scope="row">Resume</th>
      <td class="width-min"><a href="{% url 'resume' %}" aria-label="Download resume">/resume</a></td>
    </tr>
    <tr>
      {% endif %}
      <th scope="row">GitHub</th>
      <td class="width-min"><a href="https://github.com/aaronspindler" rel="noopener noreferrer" target="_blank" aria-label="GitHub profile">/aaronspindler</a></td>
    </tr>
    <tr>
      <th scope="row">X</th>
      <td class="width-min"><a href="https://x.com/aaron_spindler" rel="noopener noreferrer" target="_blank" aria-label="X (Twitter) profile">/aaron_spindler</a></td>
    </tr>
    <tr>
      <td colspan="4" style="padding-top: calc(var(--line-height) / 2); padding-bottom: calc(var(--line-height) / 2);">
        <form method="get" action="{% url 'search' %}" class="header-search-form" role="search" aria-label="Site search">
          <label for="header-search-input" class="visually-hidden">Search</label>
          <input 
            type="search" 
            id="header-search-input"
            name="q" 
            value="{{ query|default:'' }}"
            placeholder="$ search..." 
            class="header-search-input"
            aria-label="Search blog posts, projects, and books"
          >
          <button type="submit" class="header-search-button" aria-label="Submit search">search</button>
        </form>
      </td>
    </tr>
  </table>
</header>

<style>
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}

.header-search-form {
  display: flex;
  gap: 0;
  width: 100%;
  font-family: var(--font-family);
  line-height: var(--line-height);
}

.header-search-input {
  flex: 1;
  padding: calc(var(--line-height) / 4) 1ch;
  font-size: 0.875rem;
  font-family: var(--font-family);
  border: var(--border-thickness) solid var(--text-color);
  border-right: none;
  background: var(--background-color);
  color: var(--text-color);
  outline: none;
  min-width: 0;
}

.header-search-input::placeholder {
  color: var(--text-color-alt);
}

.header-search-input:focus {
  outline: none;
  background: var(--background-color-alt);
}

.header-search-button {
  padding: calc(var(--line-height) / 4) 2ch;
  background: var(--background-color);
  color: var(--text-color);
  border: var(--border-thickness) solid var(--text-color);
  cursor: pointer;
  font-size: 0.875rem;
  font-family: var(--font-family);
  font-weight: var(--font-weight-normal);
  white-space: nowrap;
  transition: background-color 0.15s ease, color 0.15s ease;
}

.header-search-button:hover {
  background: var(--text-color);
  color: var(--background-color);
}

.header-search-button:active {
  background: var(--text-color-alt);
}
</style>